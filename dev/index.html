<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Getting Started · FwiFlow</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href><img src="assets/logo.png" alt="FwiFlow logo"/></a><div class="docs-package-name"><span class="docs-autofit">FwiFlow</span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Getting Started</a><ul class="internal"><li><a class="tocitem" href="#Installation-1"><span>Installation</span></a></li><li><a class="tocitem" href="#Intelligent-Automatic-Differentiation-(IAD):-Philosophy-1"><span>Intelligent Automatic Differentiation (IAD): Philosophy</span></a></li><li><a class="tocitem" href="#Tutorials-1"><span>Tutorials</span></a></li><li><a class="tocitem" href="#FwiFlow:-Application-of-IAD-to-FWI-and-Two-Phase-Flow-Coupled-Inversion-1"><span>FwiFlow: Application of IAD to FWI and Two Phase Flow Coupled Inversion</span></a></li></ul></li><li><a class="tocitem" href="api/">API Reference</a></li><li><span class="tocitem">Tutorial</span><ul><li><a class="tocitem" href="tutorials/fwi/">FWI</a></li><li><a class="tocitem" href="tutorials/flow/">Flow Inversion</a></li><li><a class="tocitem" href="tutorials/timefrac/">Time Fractional Differential Equation</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Getting Started</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Getting Started</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/lidongzh/FwiFlow.jl/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Getting-Started-1"><a class="docs-heading-anchor" href="#Getting-Started-1">Getting Started</a><a class="docs-heading-anchor-permalink" href="#Getting-Started-1" title="Permalink"></a></h1><h2 id="Installation-1"><a class="docs-heading-anchor" href="#Installation-1">Installation</a><a class="docs-heading-anchor-permalink" href="#Installation-1" title="Permalink"></a></h2><pre><code class="language-julia">using Pkg
Pkg.add(&quot;FwiFlow&quot;)</code></pre><h2 id="Intelligent-Automatic-Differentiation-(IAD):-Philosophy-1"><a class="docs-heading-anchor" href="#Intelligent-Automatic-Differentiation-(IAD):-Philosophy-1">Intelligent Automatic Differentiation (IAD): Philosophy</a><a class="docs-heading-anchor-permalink" href="#Intelligent-Automatic-Differentiation-(IAD):-Philosophy-1" title="Permalink"></a></h2><p>We treat physical simulations as a chain of multiple differentiable operators, such as discrete Laplacian evaluation, a Poisson solver and a single implicit time stepping for nonlinear PDEs. They are like building blocks that can be assembled to make simulation tools for new physical models. </p><p>Those operators are differentiable and integrated in a computational graph so that the gradients can be computed automatically and efficiently via analyzing the dependency in the graph. Independent operators are executed in parallel. With the gradients we can perform gradient-based PDE-constrained optimization for inverse problems. </p><p>FwiFlow is built on <a href="https://github.com/kailaix/ADCME.jl">ADCME</a>, a powerful static graph based automatic differentiation library for scientific computing (with TensorFlow backend). FwiFlow implements the idea of <strong>Intelligent Automatic Differentiation</strong>. </p><p><img src="assets/op.png" alt/></p><h2 id="Tutorials-1"><a class="docs-heading-anchor" href="#Tutorials-1">Tutorials</a><a class="docs-heading-anchor-permalink" href="#Tutorials-1" title="Permalink"></a></h2><p>Here are some examples to start with (<code>*</code> denotes advanced examples)</p><ul><li><a href="https://lidongzh.github.io/FwiFlow.jl/dev/tutorials/fwi/">FWI</a></li><li><a href="https://lidongzh.github.io/FwiFlow.jl/dev/tutorials/flow/">Two Phase Flow Inversion</a></li><li>*<a href="https://github.com/lidongzh/FwiFlow.jl/tree/master/docs/codes/src_fwi_coupled">Coupled Inversion</a></li><li>*<a href="https://github.com/lidongzh/FwiFlow.jl/tree/master/docs/codes/src_fwi_channel">Coupled Inversion: Channel Flow</a></li></ul><h2 id="FwiFlow:-Application-of-IAD-to-FWI-and-Two-Phase-Flow-Coupled-Inversion-1"><a class="docs-heading-anchor" href="#FwiFlow:-Application-of-IAD-to-FWI-and-Two-Phase-Flow-Coupled-Inversion-1">FwiFlow: Application of IAD to FWI and Two Phase Flow Coupled Inversion</a><a class="docs-heading-anchor-permalink" href="#FwiFlow:-Application-of-IAD-to-FWI-and-Two-Phase-Flow-Coupled-Inversion-1" title="Permalink"></a></h2><p>This framework uses waveform data to invert for intrinsic parameters (e.g., permeability and porosity) in subsurface problems, with coupled flow physics, rock physics, and wave physics models.</p><p><img src="assets/diagram.png" alt/></p><p>IAD provides three levels of user control with </p><ul><li>built-in differentiable operators from modern deep-learning infrastructures (TensorFlow), and customized operators that can either </li><li>encapsulate analytic adjoint gradient computation or </li><li>handle the forward simulation and compute the corresponding gradient for a single time step. </li></ul><p>This intelligent strategy strikes a good balance between computational efficiency and programming efficiency and would serve as a paradigm for a wide range of PDE-constrained geophysical inverse problems.</p><h3 id="Physical-Models-1"><a class="docs-heading-anchor" href="#Physical-Models-1">Physical Models</a><a class="docs-heading-anchor-permalink" href="#Physical-Models-1" title="Permalink"></a></h3><h3 id="Flow-Physics-1"><a class="docs-heading-anchor" href="#Flow-Physics-1">Flow Physics</a><a class="docs-heading-anchor-permalink" href="#Flow-Physics-1" title="Permalink"></a></h3><p>The flow physics component maps from intrinsic properties such as permeability to flow properties, such as fluid saturation. We use a model of two-phase flow in porous media as an example. The governing equations are convervation of mass, Darcy&#39;s law, and other relationships.</p><h3 id="Rock-Physics-1"><a class="docs-heading-anchor" href="#Rock-Physics-1">Rock Physics</a><a class="docs-heading-anchor-permalink" href="#Rock-Physics-1" title="Permalink"></a></h3><p>The rock physics model describes the relationship between fluid properties and rock elastic properties. As one fluid phase displaces the other, the bulk modulus and density of rocks vary. </p><h3 id="Wave-Physics-1"><a class="docs-heading-anchor" href="#Wave-Physics-1">Wave Physics</a><a class="docs-heading-anchor-permalink" href="#Wave-Physics-1" title="Permalink"></a></h3><p>The elastic wave equation maps from elastic properties to wavefields, such as particle velocity and stress, which can be recorded by receiver arrays as seismic waveform data.</p><p>The elastic wave equation maps from elastic properties to wavefields, such as particle velocity and stress, which can be recorded by receiver arrays as seismic waveform data.</p><p>###	The Adjoint Method &amp; Automatic Differentation The discrete adjoint method and reverse mode automatic differentiation originates from the same mathematical formula.   <img src="assets/flow_comp_graph.png" alt/></p></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="api/">API Reference »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Saturday 14 March 2020 01:36">Saturday 14 March 2020</span>. Using Julia version 1.2.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
